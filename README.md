# ๐ผ๏ธ Professional Image Upload System

ูุธุงู ุฑูุน ุตูุฑ ุงุญุชุฑุงูู ูุจูู ุจุงุณุชุฎุฏุงู **React.js** ูููุงุฌูุฉ ุงูุฃูุงููุฉ ู **PHP** ูููุงุฌูุฉ ุงูุฎูููุฉ ูุน ุดุฑูุท ุชูุฏู ูุนุฑุถ ูุณุจุฉ ุงูุฑูุน ุงููุนููุฉ.

## โจ ุงููููุฒุงุช

### Frontend (React)

- โ ููููุงุช React ูุธูููุฉ ูุน Hooks (useState)
- โ ุฑูุน ุงููููุงุช ุจุงุณุชุฎุฏุงู Axios ูุน ุชุชุจุน ุงูุชูุฏู (`onUploadProgress`)
- โ ุดุฑูุท ุชูุฏู ุฏููุงูููู (0% โ 100%)
- โ ูุนุงููุฉ ุงูุตูุฑุฉ ูุจู ุงูุฑูุน
- โ ุฑุณุงุฆู ูุฌุงุญ ูุฎุทุฃ ูุงุถุญุฉ
- โ ุชุนุทูู ุฒุฑ ุงูุฑูุน ุฃุซูุงุก ุงูุชุญููู
- โ ุชุตููู ุนุตุฑู ูุงุญุชุฑุงูู
- โ ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ุจุดูู ูุงูู

### Backend (PHP)

- โ ุงุณุชูุจุงู ุงููููุงุช ุนุจุฑ `$_FILES`
- โ ุงูุชุญูู ูู ููุน ุงูููู (jpg, jpeg, png, webp)
- โ ุงูุชุญูู ูู ุงูุญุฌู (ุญุฏ ุฃูุตู 2MB)
- โ ุชูููุฏ ุงุณู ูุฑูุฏ ููุตูุฑุฉ ุจุงุณุชุฎุฏุงู `uniqid()`
- โ ุชุฎุฒูู ุขูู ูู ูุฌูุฏ `uploads/`

### ๐ ุงูุฃูุงู

- โ ุงูุชุญูู ูู MIME Type ุงููุนูู ุจุงุณุชุฎุฏุงู `finfo_file()`
- โ ููุน ุฑูุน ูููุงุช PHP ุฃู ูููุงุช ุถุงุฑุฉ
- โ `.htaccess` ูุชุนุทูู ุชูููุฐ ุงูุณูุฑูุจุชุงุช ูู ูุฌูุฏ ุงูุฑูุน
- โ ุตูุงุญูุงุช ุขููุฉ ูููููุงุช (644) ูุงููุฌูุฏุงุช (755)
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุตูุฑุฉ ุจุงุณุชุฎุฏุงู `getimagesize()`

## ๐ ูููู ุงููุดุฑูุน

```
uploadimage/
โโโ backend/
โ   โโโ upload.php          # ูุนุงูุฌ ุงูุฑูุน ุงูุฑุฆูุณู
โ   โโโ uploads/            # ูุฌูุฏ ุงูุตูุฑ ุงููุฑููุนุฉ
โ       โโโ .htaccess       # ุญูุงูุฉ ุฃูููุฉ
โ       โโโ README.md       # ููู ุชูุถูุญู
โโโ src/
โ   โโโ ImageUploader.jsx   # ูููู ุงูุฑูุน ุงูุฑุฆูุณู
โ   โโโ ImageUploader.css   # ุชูุณููุงุช ุงููููู
โ   โโโ App.jsx             # ุงููููู ุงูุฌุฐุฑ
โ   โโโ App.css             # ุชูุณููุงุช ุงูุชุทุจูู
โ   โโโ main.jsx            # ููุทุฉ ุงูุจุฏุงูุฉ
โโโ index.html              # HTML ุงูุฑุฆูุณู
โโโ package.json            # ุฅุนุฏุงุฏุงุช ุงููุดุฑูุน
โโโ vite.config.js          # ุฅุนุฏุงุฏุงุช Vite
โโโ README.md               # ูุฐุง ุงูููู
```

## ๐ ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช

- **Node.js** (v16 ุฃู ุฃุญุฏุซ)
- **PHP** (7.4 ุฃู ุฃุญุฏุซ)
- **ุฎุงุฏู ููุจ** ูุน ุฏุนู PHP (XAMPP, WAMP, MAMP, ุฃู ุฎุงุฏู ูุญูู)

### 1๏ธโฃ ุฅุนุฏุงุฏ Frontend (React)

```bash
# ุชุซุจูุช ุงูููุชุจุงุช
npm install

# ุชุดุบูู ุฎุงุฏู ุงูุชุทููุฑ
npm run dev
```

ุงูุชุทุจูู ุณูุนูู ุนูู: `http://localhost:5173`

### 2๏ธโฃ ุฅุนุฏุงุฏ Backend (PHP)

#### ุจุงุณุชุฎุฏุงู XAMPP/WAMP:

1. ุงูุณุฎ ูุฌูุฏ ุงููุดุฑูุน ุฅูู `htdocs/` ุฃู `www/`
2. ุชุฃูุฏ ูู ุชุดุบูู Apache
3. ุงููุตูู ุฅูู: `http://localhost/uploadimage/backend/upload.php`

#### ุจุงุณุชุฎุฏุงู ุฎุงุฏู PHP ุงููุฏูุฌ:

```bash
cd backend
php -S localhost:8000
```

### 3๏ธโฃ ุชุญุฏูุซ ุฑุงุจุท API

ูู ููู `src/ImageUploader.jsx`ุ ุชุฃูุฏ ูู ุชุญุฏูุซ ุฑุงุจุท API:

```javascript
const UPLOAD_URL = "http://localhost/uploadimage/backend/upload.php";
// ุฃู ุฅุฐุง ููุช ุชุณุชุฎุฏู ุฎุงุฏู PHP ุงููุฏูุฌ:
// const UPLOAD_URL = 'http://localhost:8000/upload.php'
```

## ๐ค ููููุฉ ุงูุงุณุชุฎุฏุงู

1. **ุงุฎุชุฑ ุตูุฑุฉ**: ุงููุฑ ุนูู ููุทูุฉ ุงูุฑูุน ูุงุฎุชุฑ ุตูุฑุฉ (JPG, PNG, WEBP)
2. **ูุนุงููุฉ**: ุณุชุฑู ูุนุงููุฉ ููุตูุฑุฉ ูุน ูุนูููุงุชูุง
3. **ุฑูุน**: ุงููุฑ ุนูู ุฒุฑ "ุฑูุน ุงูุตูุฑุฉ"
4. **ุชุชุจุน ุงูุชูุฏู**: ุดุงูุฏ ุดุฑูุท ุงูุชูุฏู ูุชุญุฑู ูู 0% ุฅูู 100%
5. **ุงููุชูุฌุฉ**: ุฑุณุงูุฉ ูุฌุงุญ ุฃู ุฎุทุฃ ูุน ุชูุงุตูู ุงูุฑูุน

## ๐ Workflow ุงูุชูุตููู

### 1. ุงุฎุชูุงุฑ ุงูููู

- ุงููุณุชุฎุฏู ูููุฑ ุนูู ููุทูุฉ ุงูุฑูุน
- ูุชู ูุชุญ ูุงูุฐุฉ ุงุฎุชูุงุฑ ุงูููู
- ุนูุฏ ุงูุงุฎุชูุงุฑุ ูุชู:
  - ุงูุชุญูู ูู ููุน ุงูููู (frontend)
  - ุงูุชุญูู ูู ุงูุญุฌู (frontend)
  - ุฅูุดุงุก ูุนุงููุฉ ุจุงุณุชุฎุฏุงู FileReader

### 2. ุงูุฑูุน

- ุงููุณุชุฎุฏู ูููุฑ "ุฑูุน ุงูุตูุฑุฉ"
- ูุชู ุฅูุดุงุก `FormData` ูุน ุงูููู
- Axios ูุฑุณู POST request ุฅูู PHP
- `onUploadProgress` ูุญุฏุซ ุดุฑูุท ุงูุชูุฏู

### 3. ุงููุนุงูุฌุฉ (PHP)

```
1. ุงุณุชูุจุงู ุงูููู ุนุจุฑ $_FILES
2. ุงูุชุญูู ูู ูุฌูุฏ ุงูููู ูุนุฏู ูุฌูุฏ ุฃุฎุทุงุก
3. ุงูุชุญูู ูู ุงูุญุฌู (โค 2MB)
4. ุงูุชุญูู ูู ุงูุงูุชุฏุงุฏ (jpg, jpeg, png, webp)
5. ุงูุชุญูู ูู MIME type ุจุงุณุชุฎุฏุงู finfo_file()
6. ุงูุชุญูู ูู ุตุญุฉ ุงูุตูุฑุฉ ุจุงุณุชุฎุฏุงู getimagesize()
7. ุฅูุดุงุก ูุฌูุฏ uploads/ ุฅู ูู ููู ููุฌูุฏุงู
8. ุฅูุดุงุก .htaccess ููุญูุงูุฉ
9. ุชูููุฏ ุงุณู ูุฑูุฏ ุจุงุณุชุฎุฏุงู uniqid()
10. ููู ุงูููู ุฅูู uploads/
11. ุถุจุท ุงูุตูุงุญูุงุช (644)
12. ุฅุฑุฌุงุน JSON response
```

### 4. ุงูุงุณุชุฌุงุจุฉ (Response)

- React ูุณุชูุจู ุงูุงุณุชุฌุงุจุฉ
- ุนุฑุถ ุฑุณุงูุฉ ูุฌุงุญ ุฃู ุฎุทุฃ
- ุฅุนุงุฏุฉ ุชุนููู ุงููููุฐุฌ ุจุนุฏ 3 ุซูุงูู (ูู ุญุงูุฉ ุงููุฌุงุญ)

## ๐ ุฃูุซูุฉ Request & Response

### Request (ูู React โ PHP)

```http
POST http://localhost/uploadimage/backend/upload.php
Content-Type: multipart/form-data

FormData:
  image: [Binary File Data]
```

### Response - ูุฌุงุญ โ

```json
{
  "success": true,
  "message": "ุชู ุฑูุน ุงูุตูุฑุฉ ุจูุฌุงุญ!",
  "image_url": "/backend/uploads/img_679e1a2b3c4d5.jpg",
  "filename": "img_679e1a2b3c4d5.jpg",
  "size": 245678,
  "type": "image/jpeg",
  "dimensions": "1920x1080"
}
```

### Response - ุฎุทุฃ โ

```json
{
  "success": false,
  "message": "ุญุฌู ุงูููู ูุฌุจ ุฃู ูุง ูุชุฌุงูุฒ 2 ููุฌุงุจุงูุช"
}
```

ุฃู:

```json
{
  "success": false,
  "message": "ููุน ุงูููู ุงููุนูู ุบูุฑ ุตุงูุญ. ูุฌุจ ุฃู ูููู ุตูุฑุฉ ุญููููุฉ"
}
```

## ๐ก๏ธ ููุฒุงุช ุงูุฃูุงู

### 1. ุงูุชุญูู ูู MIME Type

```php
$finfo = finfo_open(FILEINFO_MIME_TYPE);
$mimeType = finfo_file($finfo, $file['tmp_name']);
```

ูููุน ุฑูุน ูููุงุช PHP ูุชููุฑุฉ ุจุงูุชุฏุงุฏ ุตูุฑุฉ.

### 2. ุงูุชุญูู ูู ุตุญุฉ ุงูุตูุฑุฉ

```php
$imageInfo = @getimagesize($file['tmp_name']);
```

ูุชุฃูุฏ ุฃู ุงูููู ุตูุฑุฉ ูุนููุฉ ูููุณ ููู ุชูููุฐู.

### 3. .htaccess Protection

```apache
<FilesMatch "\.php$">
    Order Allow,Deny
    Deny from all
</FilesMatch>
```

ูููุน ุชูููุฐ ุฃู ููุฏ PHP ูู ูุฌูุฏ ุงูุฑูุน.

### 4. ุงุณู ููู ูุฑูุฏ

```php
$uniqueName = uniqid('img_', true) . '.' . $extension;
```

ูููุน ุงููุชุงุจุฉ ููู ุงููููุงุช ุงูููุฌูุฏุฉ.

## ๐จ ุงูุชุฎุตูุต

### ุชุบููุฑ ุงูุญุฌู ุงูุฃูุตู

ูู `backend/upload.php`:

```php
define('MAX_FILE_SIZE', 5 * 1024 * 1024); // 5MB
```

ูู `src/ImageUploader.jsx`:

```javascript
const maxSize = 5 * 1024 * 1024; // 5MB
```

### ุฅุถุงูุฉ ุตูุบ ุฌุฏูุฏุฉ

ูู `backend/upload.php`:

```php
define('ALLOWED_TYPES', ['image/jpeg', 'image/png', 'image/webp', 'image/gif']);
define('ALLOWED_EXTENSIONS', ['jpg', 'jpeg', 'png', 'webp', 'gif']);
```

### ุชุบููุฑ ุงูุฃููุงู

ูู `src/ImageUploader.css`ุ ุนุฏูู ุงููุชุบูุฑุงุช:

```css
.uploader-header {
  background: linear-gradient(135deg, #your-color-1 0%, #your-color-2 100%);
}
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฎุทุฃ CORS

ุฅุฐุง ุธูุฑุช ุฑุณุงูุฉ CORS error:

1. ุชุฃูุฏ ูู ุชุดุบูู Backend ุนูู ููุณ ุงููุทุงู
2. ุฃู ุงุณุชุฎุฏู ุงูุชุฑููุณุงุช ูู `upload.php`:

```php
header('Access-Control-Allow-Origin: http://localhost:5173');
```

### ูุฌูุฏ uploads ุบูุฑ ููุฌูุฏ

ุณูุชู ุฅูุดุงุคู ุชููุงุฆูุงู ุนูุฏ ุฃูู ุฑูุนุ ุฃู:

```bash
mkdir backend/uploads
chmod 755 backend/uploads
```

### ุงูุตูุฑ ูุง ุชูุญูุธ

ุชุญูู ูู ุตูุงุญูุงุช ุงููุฌูุฏ:

```bash
chmod 755 backend/uploads
```

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

- โจ ุฅุถุงูุฉ drag & drop ููุตูุฑ
- โจ ุฑูุน ุตูุฑ ูุชุนุฏุฏุฉ
- โจ ูุนุงููุฉ ุงูุตูุฑ ุงููุฑููุนุฉ ุณุงุจูุงู
- โจ ุถุบุท ุงูุตูุฑ ูุจู ุงูุฑูุน
- โจ ูุต ุงูุตูุฑ (cropping)
- โจ ุฅุถุงูุฉ ูุงุนุฏุฉ ุจูุงูุงุช ูุชุชุจุน ุงูุฑููุนุงุช

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุชุงุญ ููุงุณุชุฎุฏุงู ุงูุดุฎุตู ูุงูุชุฌุงุฑู.

**ููุงุญุธุฉ:** ุชุฃูุฏ ูู ุงุฎุชุจุงุฑ ุงููุธุงู ูู ุจูุฆุฉ ุขููุฉ ูุจู ุงููุดุฑ ุนูู ุณูุฑูุฑ ุญูููู.
